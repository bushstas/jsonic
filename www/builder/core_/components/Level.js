_G_.set((c=function(component){
if(!this||this==window){
var renderItems=function(items){if(isArray(items)){for(var i=0;i<items.length;i++){if(!isArray(items[i]))renderItem.call(this,items[i]);else renderItems.call(this,items[i])}}else renderItem.call(this,items)};
var renderItem=function(i){if(!i&&i!==0)return;if(isFunction(i)){renderItems.call(this,i());return}if(!isObject(i))createTextNode.call(this,i);else if(i.hasOwnProperty('t'))createElement.call(this,i);else if(i.hasOwnProperty('v'))createPropertyNode.call(this,i);else if(i.hasOwnProperty('i'))createCondition.call(this,i);else if(i.hasOwnProperty('h'))createForeach.call(this,i);else if(i.hasOwnProperty('tmp'))includeTemplate.call(this,i);else if(i.hasOwnProperty('cmp'))renderComponent.call(this,i);else if(i.hasOwnProperty('is'))createIfSwitch.call(this,i);else if(i.hasOwnProperty('sw'))createSwitch.call(this,i);else if(i.hasOwnProperty('pl'))createPlaceholder.call(this,i);else if(i.hasOwnProperty('l'))createLet.call(this,i);else if(i.hasOwnProperty('f'))createFrom.call(this,i)};
var createLevel=function(items,pe){var lvl=_G_.get('Level');var level=new lvl(this.cmp);level.render(items,pe,this);this.children.push(level)};
var createTextNode=function(content){if(content=='<br>')appendChild.call(this,document.createElement('br'));else appendChild.call(this,document.createTextNode(content))};
var createUpdater=function(u,s,p){this.updaters=this.updaters||[];if(p['n'])_C_.createUpdater(u,p['$']||this.cmp,s,p,this.updaters);if(p['g'])_G_.get('State').createUpdater(u,p['$']||this.cmp,s,p)};
var createPropertyNode=function(props){var v='',pv=props['v'];if(isFunction(pv))pv=pv();if(!isUndefined(pv))v=pv;var node=document.createTextNode(v);appendChild.call(this,node);createUpdater.call(this,_G_.get('NodeUpdater'),node,props)};
var createElement=function(props){var element=document.createElement(__TG[props['t']]||'span');appendChild.call(this,element);if(props['p']){var pr=isFunction(props['p'])?props['p']():props['p'];var a;for(var k in pr){a=__AT[k]||k;if(a=='scope')this.cmp.setScope(element);else if(a=='as')_C_.registerElement.call(this.cmp,element,pr[k]);else if(isPrimitive(pr[k])&&pr[k]!==''){element.attr(a,pr[k])}}if(props['n']||props['g']){createUpdater.call(this,_G_.get('ElementUpdater'),element,props)}}if(isArray(props['e'])){var eventType,callback,isOnce,i;this.eventHandler=this.eventHandler||new(_G_.get('EventHandler'))();for(i=0;i<props['e'].length;i++){eventType=__ET[props['e'][i]]||eventType;callback=props['e'][i+1];isOnce=props['e'][i+2]===true;if(isString(eventType)&&isFunction(callback)){if(isOnce){this.eventHandler.listenOnce(element,eventType,callback.bind(this.cmp));i++}else this.eventHandler.listen(element,eventType,callback.bind(this.cmp))}i++}}createLevel.call(this,props['c'],element)};
var appendChild=function(child){if(this.nextSiblingChild)this.parentElement.insertBefore(child,this.nextSiblingChild);else this.parentElement.appendChild(child);registerChild.call(this,child)};
var createCondition=function(props){if(isFunction(props['i'])){var condition=new(_G_.get('Condition'))(props);condition.render(this.parentElement,this);registerChild.call(this,condition);createUpdater.call(this,_G_.get('OperatorUpdater'),condition,props)}else if(!!props['i']){renderItems.call(this,props['c'])}else if(!isUndefined(props['e'])){renderItem.call(this,props['e'])}};
var createForeach=function(props){var foreach=new(_G_.get('Foreach'))(props);foreach.render(this.parentElement,this);if(props['n']||props['g']){registerChild.call(this,foreach);createUpdater.call(this,_G_.get('OperatorUpdater'),foreach,props)}};
var createFrom=function(props){var fr=new(_G_.get('From'))(props);fr.render(this.parentElement,this);if(props['n']||props['g']){registerChild.call(this,fr);createUpdater.call(this,_G_.get('OperatorUpdater'),fr,props)}};
var createIfSwitch=function(props){if(props['n']||props['g']){var swtch=new(_G_.get('IfSwitch'))(props);swtch.render(this.parentElement,this);registerChild.call(this,swtch);createUpdater.call(this,_G_.get('OperatorUpdater'),swtch,props)}else{for(var i=0;i<props['is'].length;i++){if(!!props['is'][i]){renderItems.call(this,props['c'][i]);return}}if(!isUndefined(props['d']))renderItems.call(this,props['d'])}};
var createSwitch=function(props){if(props['n']||props['g']){var swtch=new(_G_.get('Switch'))(props);swtch.render(this.parentElement,this);registerChild.call(this,swtch);createUpdater.call(this,_G_.get('OperatorUpdater'),swtch,props)}else{if(!isArray(props['cs']))props['cs']=[props['cs']];if(!isArray(props['c']))props['c']=[props['c']];for(var i=0;i<props['cs'].length;i++){if(props['sw']===props['cs'][i]){renderItems.call(this,props['c'][i]);return}}if(!isUndefined(props['d']))renderItems.call(this,props['d'])}};
var createLet=function(props){if(props['n']||props['g']){var l=new(_G_.get('Let'))(props);l.render(this.parentElement,this);registerChild.call(this,l);createUpdater.call(this,_G_.get('OperatorUpdater'),l,props)}};
var createPlaceholder=function(props){var placeholderNode=document.createTextNode('');if(isString(props['d']))placeholderNode.textContent=props['d'];placeholderNode.placeholderName=props['pl'];appendChild.call(this,placeholderNode)};
var registerChild=function(child,isComponent){var isNodeChild=isNode(child);if(this.prevChild)_C_.setNextSiblingChild.call(this.prevChild,child);this.prevChild=isNodeChild?null:child;if(!this.firstChild)this.firstChild=child;if(isNodeChild){if(!this.firstNodeChild)this.firstNodeChild=child;this.lastNodeChild=child}else this.children.push(child);if(isComponent)_C_.registerChildComponent.call(this.cmp,child)};
var includeTemplate=function(item){var props=item['p'];if(isObject(props)&&isObject(props['props'])){var tempProps=props['props'];delete props['props'];for(var k in props)tempProps[k]=props[k];props=tempProps}if(item['c']){props=props||{};props['children']=item['c']}if(isNumber(item['tmp']))item['tmp']=_G_.get('i_'+item['tmp']);else if(isString(item['tmp']))item['tmp']=_C_.getTemplateById.call(this.cmp,item['tmp']);if(isFunction(item['tmp'])){var items=item['tmp'].call(this.cmp,props,this.cmp);renderItems.call(this,items)}};
var renderComponent=function(item,pe){pe=pe||this.parentElement;item['cmp']=_G_.get(item['cmp']);if(isFunction(item['cmp'])){var cmp=new item['cmp']();var ir=isFunction(item['p']);var i,k,p=ir?item['p']():item['p'];var props,data;if(isObject(p)){if(p['p']||p['ap'])props=initComponentProps.call(this,p['p'],p['ap']);if(isString(p['i'])){_C_.setId.call(cmp,p['i']);var waiting=_C_.getWaitingChild.call(this.cmp,p['i']);if(isArray(waiting)){for(i=0;i<waiting.length;i++){waiting[i][0].set(waiting[i][1],cmp)}}}}if(ir)createUpdater.call(this,_G_.get('ComponentUpdater'),cmp,item);if(isArray(item['w'])){for(i=0;i<item['w'].length;i+=2){_C_.provideWithComponent.call(this.cmp,item['w'][i],item['w'][i+1],cmp)}}if(item['c']){props=props||{};props['children']=item['c']}_C_.initiate.call(cmp,props);cmp.render(pe);registerChild.call(this,cmp,true);if(isArray(item['e'])){for(i=0;i<item['e'].length;i++){_C_.subscribe.call(cmp,item['e'][i],item['e'][i+1],this.cmp);i++}}if(item['nm'])_C_.registerControl.call(this.cmp,cmp,item['nm'])}else if(item&&isObject(item)){if(!item.isRendered())item.render(pe);registerChild.call(this,item,true)}};
var initComponentProps=function(p,ap){var props={},k;var f=function(pr){if(isObject(pr)){for(k in pr)props[k]=pr[k]}};f(p);f(ap);return props};
var getElements=function(){var elements=[];if(this.firstNodeChild&&this.lastNodeChild){var isAdding=false,p=this.parentElement;for(var i=0;i<p.childNodes.length;i++){if(p.childNodes[i]==this.firstNodeChild)isAdding=true;if(isAdding)elements.push(p.childNodes[i]);if(p.childNodes[i]==this.lastNodeChild)break}}return elements};
var disposeDom=function(){var elementsToDispose=getElements.call(this);for(var i=0;i<elementsToDispose.length;i++)this.parentElement.removeChild(elementsToDispose[i]);elementsToDispose=null};
p=c.prototype;
p.render=function(items,pe,pl,nsc){this.parentElement=pe;this.parentLevel=pl;this.nextSiblingChild=nsc;renderItems.call(this,items);this.prevChild=null;this.nextSiblingChild=null};
p.getParentElement=function(){return this.parentElement};
p.getFirstNodeChild=function(){if(isNode(this.firstChild))return this.firstChild;var firstLevel=this.children[0];if(firstLevel instanceof _G_.get('Level')){return _C_.getParentElement.call(firstLevel)}else if(firstLevel){return _C_.getFirstNodeChild.call(firstLevel)}return null};
p.getComponent=function(){return this.cmp};
p.setAppended=function(isAppended,p){var isDetached=!isAppended;if(isDetached===!!this.detached)return;this.detached=isDetached;var elements=getElements.call(this);if(isDetached){this.realParentElement=this.parentElement;this.parentElement=p||document.createElement('div');for(var i=0;i<elements.length;i++)this.parentElement.appendChild(elements[i])}else{this.nextSiblingChild=_C_.getNextSiblingChild.call(this.parentLevel);this.parentElement=this.realParentElement;this.realParentElement=null;for(var i=0;i<elements.length;i++)appendChild.call(this,elements[i])}};
p.placeTo=function(element){this.setAppended(false,element)};
p.dispose=function(){if(this.updaters){for(var i=0;i<this.updaters.length;i++){_C_.disposeUpdater.call(this.cmp,this.updaters[i],this.updaters[i+1]);this.updaters[i+1]=null;i++}}for(var i=0;i<this.children.length;i++){if(isComponentLike(this.children[i])){_C_.unregisterChildComponent.call(this.cmp,this.children[i])}this.children[i].dispose();this.children[i]=null}if(this.eventHandler){this.eventHandler.dispose();this.eventHandler=null}disposeDom.call(this);this.updaters=null;this.children=null;this.parentElement=null;this.parentLevel=null;this.firstChild=null;this.firstNodeChild=null;this.lastNodeChild=null;this.realParentElement=null;this.cmp=null};
return c;
}
this.children=[];this.cmp=component;
})(),'Level');